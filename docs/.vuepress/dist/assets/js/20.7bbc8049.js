(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{220:function(a,e,t){"use strict";t.r(e);var n=t(0),r=Object(n.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"读写本地数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读写本地数据"}},[a._v("#")]),a._v(" 读写本地数据")]),a._v(" "),t("ul",[t("li",[a._v("安装")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(" npm install --save electron-json-storage\n")])])]),t("ul",[t("li",[a._v("使用")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  const storage = require('electron-json-storage')\n  // 设置路径\n  storage.setDefaultDataPath()\n  storage.getDefaultDataPath()\n  // 读写数据\n  storage.set(key, value, function (error) {\n    if (error) throw error\n    if (callback) {\n      callback()\n    }\n  })\n  storage.get(key, function (error, data) {\n    if (error) throw error\n    if (callback) {\n      callback(data)\n    }\n  })\n")])])]),t("h2",{attrs:{id:"读写文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读写文件"}},[a._v("#")]),a._v(" 读写文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  // 异步读取文件的时候由操作系统在后台进行读取\n  // 异步不会阻碍下面的代码执行。同步读取的时候会阻碍下面的代码执行\n  const fs = require('fs')\n  const PATH = path.join(__dirname, './static/log/'),\n  // fs.existsSync(filePath) 判断文件是否存在\n  // 写入\n  writeFile (fileName, data) {\n    let _path = PATH.filePath + fileName\n    // 方案1\n    fs.writeFile(_path, data, function (err) {\n      console.log(err)\n      if (!err) {\n        console.log('写入成功。')\n      }\n    })\n    // 方案2\n    fs.writeFileSync(_path, data)\n  },\n  // 读取\n  readFile (fileName) {\n    let _path = PATH.filePath + fileName\n    // 方案1\n    fs.readFile(_path, 'utf8', function (err, data) {\n      console.log(data)\n      if (err) return console.log(err)\n    })\n     // 方案2\n    fs.readFileSync(_path, 'utf8')\n  },\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);